import React, { useState, useRef, useEffect } from 'react';
import './App.css';

const API_URL = 'http://localhost:5000';

const App = () => {
  const [selectedFile, setSelectedFile] = useState(null);
  const [selectedFiles, setSelectedFiles] = useState([]);
  const [isUploading, setIsUploading] = useState(false);
  const [uploadedFile, setUploadedFile] = useState(null);
  const [files, setFiles] = useState([]);
  const [error, setError] = useState('');
  const [showUploadModal, setShowUploadModal] = useState(false);
  const [uploadProgress, setUploadProgress] = useState(0);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const fileInputRef = useRef(null);

  // Fetch files on component mount
  useEffect(() => {
    fetchFiles();
  }, []);

  const handleFileChange = (e) => {
    if (e.target.files.length > 0) {
      setSelectedFile(e.target.files[0]);
      setError('');
    }
  };

  const handleFilesSelected = (e) => {
    const files = Array.from(e.target.files);
    setSelectedFiles(files);
    setShowUploadModal(true);
  };

  const fetchFiles = async () => {
    try {
      const response = await fetch(`${API_URL}/files`);
      const data = await response.json();
      setFiles(data);
    } catch (err) {
      console.error('Error fetching files:', err);
      setError('Failed to load files');
    }
  };

  const handleUpload = async () => {
    if (!selectedFiles.length) return;
    
    setIsUploading(true);
    setUploadProgress(0);
    
    try {
      const totalFiles = selectedFiles.length;
      let successfulUploads = 0;
      
      for (let i = 0; i < totalFiles; i++) {
        const file = selectedFiles[i];
        const formData = new FormData();
        formData.append('file', file);
        
        const response = await fetch(`${API_URL}/upload`, {
          method: 'POST',
          body: formData,
        });

        if (!response.ok) {
          throw new Error('Upload failed');
        }
        
        const result = await response.json();
        setUploadedFile(result);
        successfulUploads++;
        setUploadProgress(Math.round((successfulUploads / totalFiles) * 100));
      }
      
      // Refresh files list after successful upload
      await fetchFiles();
      setShowUploadModal(false);
      setSelectedFiles([]);
      
    } catch (err) {
      setError('Error uploading files. Please try again.');
      console.error('Upload error:', err);
    } finally {
      setIsUploading(false);
      setUploadProgress(0);
    }
  };

  const handleReset = () => {
    setSelectedFile(null);
    setUploadedFile(null);
    setError('');
    if (fileInputRef.current) {
      fileInputRef.current.value = '';
    }
  };

  return (
    <div className="app">
      <header className="header">
        <h1>IP Vault</h1>
        <p>Upload your file and get a unique hash</p>
      </header>

      <main className="main-content">
        <div className="upload-container">
          <div className="upload-box">
            {!uploadedFile ? (
              <>
                <input
                  type="file"
                  onChange={handleFileChange}
                  ref={fileInputRef}
                  className="file-input"
                  disabled={isUploading}
                />
                {selectedFile && (
                  <div className="file-info">
                    <p>Selected: {selectedFile.name}</p>
                    <p>Size: {(selectedFile.size / 1024).toFixed(2)} KB</p>
                  </div>
                )}
                {error && <p className="error">{error}</p>}
                <button
                  onClick={handleUpload}
                  disabled={!selectedFile || isUploading}
                  className="upload-button"
                >
                  {isUploading ? 'Uploading...' : 'Upload File'}
                </button>
              </>
            ) : (
              <div className="upload-success">
                <h3>âœ… File Uploaded Successfully!</h3>
                <div className="file-details">
                  <p><strong>File Name:</strong> {uploadedFile.name}</p>
                  <p><strong>File Hash:</strong></p>
                  <div className="hash-box">
                    {uploadedFile.hash}
                  </div>
                  <p className="hash-note">This is your unique file hash. Keep it safe!</p>
                </div>
                <button onClick={handleReset} className="upload-button">
                  Upload Another File
                </button>
              </div>
            )}
          </div>
        </div>
      </main>

      <footer className="footer">
        <p>IP Vault - Simple File Hashing Service</p>
      </footer>
    </div>
  );
};

  const fetchFiles = async () => {
    try {
      const response = await fetch('http://localhost:5000/files');
      const data = await response.json();
      setFiles(data);
    } catch (error) {
      console.error('Failed to fetch files:', error);
      setError('Failed to load files');
    }
  };

  // Fetch files on component mount
  useEffect(() => {
    fetchFiles();
  }, []);

  return (
    <div className="min-h-screen">
      {/* Navigation */}
      <nav className="bg-gray-900 bg-opacity-80 backdrop-blur-md fixed w-full z-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center justify-between h-16">
            <div className="flex items-center">
              <div className="flex-shrink-0">
                <div className="flex items-center">
                  <div className="blockchain-node mr-2">
                    <i className="fas fa-link text-white text-xl"></i>
                  </div>
                  <span className="title-font text-white text-xl font-bold gradient-text">BLOCKVAULT</span>
                </div>
              </div>
              <div className="hidden md:block">
                <div className="ml-10 flex items-baseline space-x-4">
                  <a href="#" className="nav-item text-white px-3 py-2 rounded-md text-sm font-medium">Dashboard</a>
                  <a href="#" className="nav-item text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">My Vault</a>
                  <a href="#" className="nav-item text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Verify IP</a>
                  <a href="#" className="nav-item text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Marketplace</a>
                  <a href="#" className="nav-item text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Settings</a>
                </div>
              </div>
            </div>
            <div className="hidden md:block">
              <div className="ml-4 flex items-center md:ml-6">
                {!active ? (
                  <button 
                    onClick={connectWallet}
                    className="bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center"
                  >
                    <i className="fas fa-wallet mr-2"></i> Connect Wallet
                  </button>
                ) : (
                  <div className="flex items-center space-x-4">
                    <span className="text-gray-300 text-sm">{account?.slice(0, 6)}...{account?.slice(-4)}</span>
                    <button 
                      onClick={disconnectWallet}
                      className="bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium"
                    >
                      Disconnect
                    </button>
                  </div>
                )}
              </div>
            </div>
            <div className="-mr-2 flex md:hidden">
              <button 
                type="button" 
                className="bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white" 
                aria-controls="mobile-menu" 
                aria-expanded="false"
                onClick={toggleMobileMenu}
              >
                <span className="sr-only">Open main menu</span>
                <svg className="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </button>
            </div>
          </div>
        </div>

        {/* Mobile menu */}
        {mobileMenuOpen && (
          <div className="md:hidden" id="mobile-menu">
            <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
              <a href="#" className="bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium">Dashboard</a>
              <a href="#" className="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">My Vault</a>
              <a href="#" className="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Verify IP</a>
              <a href="#" className="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Marketplace</a>
              <a href="#" className="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Settings</a>
            </div>
            <div className="pt-4 pb-3 border-t border-gray-700">
              {!active ? (
                <div className="px-5">
                  <button 
                    onClick={connectWallet}
                    className="w-full bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium"
                  >
                    Connect Wallet
                  </button>
                </div>
              ) : (
                <div className="px-5">
                  <div className="text-base font-medium leading-none text-white mb-2">{account?.slice(0, 6)}...{account?.slice(-4)}</div>
                  <button 
                    onClick={disconnectWallet}
                    className="w-full bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium"
                  >
                    Disconnect
                  </button>
                </div>
              )}
            </div>
          </div>
        )}
      </nav>

      {/* Main Content */}
      <div className="pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        {/* Hero Section */}
        <div className="relative overflow-hidden rounded-2xl mb-12">
          <div className="absolute inset-0 bg-gradient-to-br from-purple-900 to-blue-800 opacity-90"></div>
          <div className="relative px-6 py-16 sm:py-24 lg:py-32 lg:px-8">
            <div className="mx-auto max-w-2xl text-center">
              <h1 className="text-4xl font-extrabold tracking-tight text-white sm:text-5xl lg:text-6xl title-font">
                <span className="gradient-text">Secure Your</span> Intellectual Property
              </h1>
              <p className="mt-6 max-w-lg mx-auto text-lg text-gray-200">
                Timestamp and store your creative work on the blockchain for immutable proof of creation.
              </p>
              <div className="mt-10 flex justify-center">
                <div className="inline-flex rounded-md shadow">
                  <button 
                    onClick={() => setShowUploadModal(true)}
                    className="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600"
                  >
                    Get Started
                    <svg className="-mr-1 ml-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fillRule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clipRule="evenodd" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div className="absolute -right-20 -top-20 w-64 h-64 rounded-full bg-purple-500 opacity-20 blur-3xl"></div>
          <div className="absolute -left-20 -bottom-20 w-64 h-64 rounded-full bg-blue-500 opacity-20 blur-3xl"></div>
        </div>

        {/* File Upload Section - Always Visible */}
        <div className="bg-gray-800 rounded-2xl p-8 mb-12 border border-gray-700">
          <div className="flex flex-col md:flex-row items-center">
            <div className="md:w-1/2 mb-8 md:mb-0 md:pr-8">
              <h2 className="text-3xl font-bold text-white mb-4 title-font gradient-text">Protect Your Work Now</h2>
              <p className="text-gray-300 mb-6">Upload your creative work to generate an immutable proof of creation. Your files are never stored directly - we only record the cryptographic hash for maximum privacy.</p>
              <div className="flex space-x-4">
                <div className="flex items-center">
                  <div className="w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center mr-2">
                    <i className="fas fa-check text-white text-xs"></i>
                  </div>
                  <span className="text-gray-300 text-sm">Secure</span>
                </div>
                <div className="flex items-center">
                  <div className="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-2">
                    <i className="fas fa-check text-white text-xs"></i>
                  </div>
                  <span className="text-gray-300 text-sm">Private</span>
                </div>
                <div className="flex items-center">
                  <div className="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center mr-2">
                    <i className="fas fa-check text-white text-xs"></i>
                  </div>
                  <span className="text-gray-300 text-sm">Immutable</span>
                </div>
              </div>
            </div>
            <div className="md:w-1/2">
              <div className="file-upload p-8 rounded-xl text-center cursor-pointer hover:border-purple-500 transition" onClick={() => fileInputRef.current?.click()}>
                <div className="floating mb-6">
                  <i className="fas fa-cloud-upload-alt text-5xl text-purple-400"></i>
                </div>
                <h3 className="text-xl font-semibold text-white mb-2">Drag & Drop Your Files</h3>
                <p className="text-gray-400 mb-4">or click to browse your device</p>
                <p className="text-sm text-gray-500">Supports all file types (code, designs, documents, etc.)</p>
                <input 
                  ref={fileInputRef}
                  type="file" 
                  className="hidden" 
                  multiple 
                  onChange={handleFileChange}
                />
              </div>
            </div>
          </div>

          {/* Hash Display */}
          {uploadedHash && (
            <div className="mt-8 p-6 bg-green-900 bg-opacity-30 border border-green-500 rounded-lg">
              <h3 className="text-xl font-semibold text-green-400 mb-3 text-center">
                ðŸŽ‰ File Successfully Hashed!
              </h3>
              <div className="bg-gray-800 p-4 rounded border border-gray-600">
                <p className="text-sm text-gray-300 mb-2 text-center">Your File Hash (SHA-256):</p>
                <p className="font-mono text-green-400 text-sm break-all text-center">
                  {uploadedHash}
                </p>
              </div>
              <p className="text-xs text-gray-400 mt-3 text-center">
                This hash is unique to your file. Save it as proof of creation!
              </p>
            </div>
          )}

          {message && !uploadedHash && (
            <div className="mt-6 p-4 rounded-lg bg-gray-700 text-center">
              {message}
            </div>
          )}
        </div>

        {/* 3D Cards Section */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
          {/* 3D Card 1 */}
          <div className="relative h-80 cursor-pointer" onClick={() => document.querySelector('.card-3d').classList.toggle('flipped')}>
            <div className="card-3d w-full h-full rounded-xl">
              <div className="card-front bg-gray-800 rounded-xl p-6 flex flex-col justify-between">
                <div>
                  <div className="w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mb-4">
                    <i className="fas fa-fingerprint text-white text-xl"></i>
                  </div>
                  <h3 className="text-xl font-bold text-white mb-2">Proof of Creation</h3>
                  <p className="text-gray-300">Create an immutable timestamp on the blockchain to prove when your work was created.</p>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-sm text-gray-400">Click to flip</span>
                  <i className="fas fa-arrow-right text-purple-400"></i>
                </div>
              </div>
              <div className="card-back rounded-xl p-6 flex flex-col justify-center items-center">
                <i className="fas fa-lock text-white text-4xl mb-4"></i>
                <h3 className="text-xl font-bold text-white mb-2 text-center">Secure & Immutable</h3>
                <p className="text-gray-100 text-center">Your work is stored permanently on the decentralized blockchain network.</p>
              </div>
            </div>
          </div>

          {/* 3D Card 2 */}
          <div className="relative h-80 cursor-pointer" onClick={() => document.querySelectorAll('.card-3d')[1].classList.toggle('flipped')}>
            <div className="card-3d w-full h-full rounded-xl">
              <div className="card-front bg-gray-800 rounded-xl p-6 flex flex-col justify-between">
                <div>
                  <div className="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mb-4">
                    <i className="fas fa-shield-alt text-white text-xl"></i>
                  </div>
                  <h3 className="text-xl font-bold text-white mb-2">IP Protection</h3>
                  <p className="text-gray-300">Protect your intellectual property while still being able to collaborate openly.</p>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-sm text-gray-400">Click to flip</span>
                  <i className="fas fa-arrow-right text-blue-400"></i>
                </div>
              </div>
              <div className="card-back rounded-xl p-6 flex flex-col justify-center items-center">
                <i className="fas fa-handshake text-white text-4xl mb-4"></i>
                <h3 className="text-xl font-bold text-white mb-2 text-center">Safe Collaboration</h3>
                <p className="text-gray-100 text-center">Share your work with confidence knowing you have proof of creation.</p>
              </div>
            </div>
          </div>

          {/* 3D Card 3 */}
          <div className="relative h-80 cursor-pointer" onClick={() => document.querySelectorAll('.card-3d')[2].classList.toggle('flipped')}>
            <div className="card-3d w-full h-full rounded-xl">
              <div className="card-front bg-gray-800 rounded-xl p-6 flex flex-col justify-between">
                <div>
                  <div className="w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mb-4">
                    <i className="fas fa-search-dollar text-white text-xl"></i>
                  </div>
                  <h3 className="text-xl font-bold text-white mb-2">Monetization</h3>
                  <p className="text-gray-300">License or sell your protected IP through our decentralized marketplace.</p>
                </div>
                <div className="flex justify-between items-center">
                  <span className="text-sm text-gray-400">Click to flip</span>
                  <i className="fas fa-arrow-right text-green-400"></i>
                </div>
              </div>
              <div className="card-back rounded-xl p-6 flex flex-col justify-center items-center">
                <i className="fas fa-coins text-white text-4xl mb-4"></i>
                <h3 className="text-xl font-bold text-white mb-2 text-center">Earn From Your Work</h3>
                <p className="text-gray-100 text-center">Connect with potential buyers and licensees while maintaining control.</p>
              </div>
            </div>
          </div>
        </div>

        {/* Blockchain Visualization */}
        <div className="bg-gray-800 bg-opacity-50 rounded-2xl p-6 mb-12 border border-gray-700">
          <h2 className="text-2xl font-bold text-white mb-6 title-font gradient-text">How It Works</h2>
          <div className="flex flex-col items-center">
            <div className="relative w-full max-w-4xl">
              {/* Blockchain nodes */}
              <div className="flex justify-between items-center mb-8">
                <div className="blockchain-node">
                  <i className="fas fa-file-alt"></i>
                </div>
                <div className="blockchain-node">
                  <i className="fas fa-hashtag"></i>
                </div>
                <div className="blockchain-node">
                  <i className="fas fa-code-branch"></i>
                </div>
                <div className="blockchain-node">
                  <i className="fas fa-lock"></i>
                </div>
                <div className="blockchain-node">
                  <i className="fas fa-link"></i>
                </div>
              </div>
              {/* Chain links */}
              <div className="mb-8">
                <div className="chain-link"></div>
                <div className="chain-link"></div>
                <div className="chain-link"></div>
              </div>
              {/* 3D rotating cube */}
              <div className="flex justify-center mb-8">
                <div className="w-40 h-40 relative rotate-3d" style={{transformStyle: 'preserve-3d'}}>
                  <div className="absolute w-full h-full bg-purple-600 opacity-70 border-2 border-purple-300 flex items-center justify-center" style={{transform: 'rotateY(0deg) translateZ(70px)'}}>
                    <i className="fas fa-file-alt text-white text-3xl"></i>
                  </div>
                  <div className="absolute w-full h-full bg-blue-600 opacity-70 border-2 border-blue-300 flex items-center justify-center" style={{transform: 'rotateY(90deg) translateZ(70px)'}}>
                    <i className="fas fa-fingerprint text-white text-3xl"></i>
                  </div>
                  <div className="absolute w-full h-full bg-green-600 opacity-70 border-2 border-green-300 flex items-center justify-center" style={{transform: 'rotateY(180deg) translateZ(70px)'}}>
                    <i className="fas fa-hashtag text-white text-3xl"></i>
                  </div>
                  <div className="absolute w-full h-full bg-yellow-600 opacity-70 border-2 border-yellow-300 flex items-center justify-center" style={{transform: 'rotateY(-90deg) translateZ(70px)'}}>
                    <i className="fas fa-lock text-white text-3xl"></i>
                  </div>
                  <div className="absolute w-full h-full bg-red-600 opacity-70 border-2 border-red-300 flex items-center justify-center" style={{transform: 'rotateX(90deg) translateZ(70px)'}}>
                    <i className="fas fa-link text-white text-3xl"></i>
                  </div>
                  <div className="absolute w-full h-full bg-pink-600 opacity-70 border-2 border-pink-300 flex items-center justify-center" style={{transform: 'rotateX(-90deg) translateZ(70px)'}}>
                    <i className="fas fa-check-circle text-white text-3xl"></i>
                  </div>
                </div>
              </div>
              {/* Steps */}
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div className="bg-gray-800 p-4 rounded-lg border-l-4 border-purple-500 transform transition hover:scale-105">
                  <h3 className="text-lg font-semibold text-white mb-2">1. Upload Your Work</h3>
                  <p className="text-gray-300">Submit your creative work - code, design, music, or any digital file.</p>
                </div>
                <div className="bg-gray-800 p-4 rounded-lg border-l-4 border-blue-500 transform transition hover:scale-105">
                  <h3 className="text-lg font-semibold text-white mb-2">2. Generate Hash</h3>
                  <p className="text-gray-300">We create a unique cryptographic fingerprint of your work.</p>
                </div>
                <div className="bg-gray-800 p-4 rounded-lg border-l-4 border-green-500 transform transition hover:scale-105">
                  <h3 className="text-lg font-semibold text-white mb-2">3. Store on Blockchain</h3>
                  <p className="text-gray-300">The hash is permanently recorded on the decentralized ledger.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Recent Activity */}
        <div className="bg-gray-800 rounded-2xl p-6 border border-gray-700">
          <h2 className="text-2xl font-bold text-white mb-6 title-font gradient-text">Recent Activity</h2>
          <div className="space-y-4">
            {files.length === 0 ? (
              <p className="text-gray-400 text-center">No files uploaded yet</p>
            ) : (
              files.map((file) => (
                <div key={file.id} className="flex items-start p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition">
                  <div className="bg-purple-600 rounded-full p-2 mr-4">
                    <i className="fas fa-file-code text-white"></i>
                  </div>
                  <div className="flex-1">
                    <h3 className="text-lg font-semibold text-white">{file.name}</h3>
                    <p className="text-gray-300">Size: {(file.size / 1024).toFixed(1)} KB</p>
                    <div className="flex items-center mt-2 text-sm text-gray-400">
                      <span>{new Date(file.uploaded).toLocaleString()}</span>
                      <span className="mx-2">â€¢</span>
                      <span className="text-purple-400">Hash: {file.hash.substring(0, 16)}...</span>
                    </div>
                  </div>
                  <button 
                    onClick={() => navigator.clipboard.writeText(file.hash)}
                    className="text-gray-400 hover:text-white"
                    title="Copy full hash"
                  >
                    <i className="fas fa-copy"></i>
                  </button>
                </div>
              ))
            )}
          </div>
          <div className="mt-6 text-center">
            <button 
              onClick={fetchFiles}
              className="text-purple-400 hover:text-purple-300 font-medium flex items-center justify-center mx-auto"
            >
              Refresh Files <i className="fas fa-arrow-right ml-2"></i>
            </button>
          </div>
        </div>
      </div>

      {/* Upload Modal */}
      {showUploadModal && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div className="bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4">
            <h2 className="text-2xl font-bold text-white mb-6">Upload Files</h2>
            
            {selectedFiles.length > 0 && (
              <div className="space-y-3 mb-6">
                {selectedFiles.map((fileObj, index) => (
                  <div key={index} className="flex items-center justify-between p-3 bg-gray-700 rounded">
                    <div className="flex-1">
                      <p className="text-white text-sm font-medium">{fileObj.name}</p>
                      <p className="text-gray-400 text-xs">{(fileObj.size / 1024).toFixed(1)} KB</p>
                    </div>
                    <div className="ml-3">
                      {fileObj.status === 'pending' && (
                        <span className="text-yellow-400 text-xs">Pending</span>
                      )}
                      {fileObj.status === 'uploading' && (
                        <span className="text-blue-400 text-xs">Uploading...</span>
                      )}
                      {fileObj.status === 'success' && (
                        <span className="text-green-400 text-xs">âœ“ Success</span>
                      )}
                      {fileObj.status === 'error' && (
                        <span className="text-red-400 text-xs">âœ— Error</span>
                      )}
                    </div>
                  </div>
                ))}
              </div>
            )}

            {isUploading && (
              <div className="mb-6">
                <div className="w-full bg-gray-700 rounded-full h-2">
                  <div 
                    className="bg-gradient-to-r from-purple-600 to-blue-500 h-2 rounded-full transition-all duration-300"
                    style={{ width: `${uploadProgress}%` }}
                  ></div>
                </div>
                <p className="text-center text-gray-400 text-sm mt-2">{Math.round(uploadProgress)}% Complete</p>
              </div>
            )}

            <div className="flex space-x-3">
              <button
                onClick={() => setShowUploadModal(false)}
                className="flex-1 bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded font-medium"
              >
                Cancel
              </button>
              <button
                onClick={handleUpload}
                disabled={isUploading || selectedFiles.length === 0}
                className="flex-1 bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 disabled:from-gray-600 disabled:to-gray-600 text-white px-4 py-2 rounded font-medium"
              >
                {isUploading ? 'Uploading...' : 'Upload Files'}
              </button>
            </div>
          </div>
        </div>
      )}

      {/* Footer */}
      <footer className="bg-gray-900 border-t border-gray-800">
        <div className="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
            <div>
              <h3 className="text-sm font-semibold text-gray-400 tracking-wider uppercase">Product</h3>
              <ul className="mt-4 space-y-4">
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Features</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Pricing</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">API</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Integrations</a></li>
              </ul>
            </div>
            <div>
              <h3 className="text-sm font-semibold text-gray-400 tracking-wider uppercase">Resources</h3>
              <ul className="mt-4 space-y-4">
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Documentation</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Guides</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Blog</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Support</a></li>
              </ul>
            </div>
            <div>
              <h3 className="text-sm font-semibold text-gray-400 tracking-wider uppercase">Company</h3>
              <ul className="mt-4 space-y-4">
                <li><a href="#" className="text-base text-gray-300 hover:text-white">About</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Careers</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Privacy</a></li>
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Terms</a></li>
              </ul>
            </div>
            <div>
              <h3 className="text-sm font-semibold text-gray-400 tracking-wider uppercase">Connect</h3>
              <ul className="mt-4 space-y-4">
                <li><a href="#" className="text-base text-gray-300 hover:text-white">Twitter</a></li>
                <li><a href className="text-base text-gray-300 hover:text-white">Discord</a></li>
                <li><a href className="text-base text-gray-300 hover:text-white">GitHub</a></li>
                <li><a href className="text-base text-gray-300 hover:text-white">LinkedIn</a></li>
              </ul>
            </div>
          </div>
          <div className="mt-12 border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center">
            <div className="flex items-center">
              <div className="blockchain-node mr-2">
                <i className="fas fa-link text-white text-xl"></i>
              </div>
              <span className="title-font text-white text-xl font-bold gradient-text">BLOCKVAULT</span>
            </div>
            <p className="mt-4 md:mt-0 text-base text-gray-400">Securing creativity on the blockchain since 2023.</p>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default App;
